
<section>
    <div class="container">
        <div class=" row mt-4">

        </div>
        <table class="table mt-5">
            <thead>
                <tr>
                    <th>Username</th>
                    <th scope="col">Date & Time</th>
                    <th>Address</th>
                    <th>Pincode</th>
                    <th>Mobile</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Payment</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {{#each allOrders}}
                <tr>
                    <td>{{this.deliveryDetails.username}}</td>
                    <td>{{this.date}}</td>
                    <td>{{this.deliveryDetails.address}}</td>
                     <td>{{this.deliveryDetails.pincode}}</td>
                     <td>{{this.deliveryDetails.mobile}}</td>
                     <td>{{this.totalAmount}}</td>
                    <td>{{this.paymentMethod}}</td>
                    <td id="{{this._id}}">{{this.status}}</td>
                  
                     <td>
                    <button  onclick="changeStatus('{{this._id}}')"  class="btn btn-primary"> Change to Shipped </button>
                   </td>
            
        
                </tr>
                
                {{/each}}
            </tbody>
        </table>
    </div>
</section>
<script>
    function changeStatus(orderId){
        $.ajax({
            url:'/admin/change-status',
            data:{
                orderId:orderId 
            },
            method:'post',
            success:(response)=>{
             document.getElementById(orderId).innerHTML="shipped"
            }
        })
    }
</script>